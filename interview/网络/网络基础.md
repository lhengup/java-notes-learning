## 基础



## 在浏览器中输入url地址 ->> 显示主页的过程（协议，过程）

总体有6个过程：

- DNS解析

- TCP连接

- 发送HTTP请求

- 服务器处理返回HTTP报文结果

- 浏览器渲染界面

- 结束连接

  

过程中用到了哪些协议?

```css
应用层：HTTP:WWW访问协议，DNS:域名解析服务
传输层：TCP:HTTP提供可靠的数据传输，UDP：DNS使用UDP传输
网络层：IP:IP包传输和路由选择，ICMP：提供网络传输中的差错检测，ARP：将本机的默认网关IP地址映射城物理MAC地址
```



### 具体过程

#### DNS解析

DNS解析的过程就是寻找哪台机器上有你需要资源的过程。当你在浏览器中输入一个地址时，例如www.baidu.com，其实不是百度网站真正意义上的地址。互联网上每一台计算机的唯一标识是它的IP地址，但是IP地址并不方便记忆。用户更喜欢用方便记忆的网址去寻找互联网上的其它计算机，也就是上面提到的百度的网址。所以互联网设计者需要在用户的方便性与可用性方面做一个权衡，这个权衡就是一个网址到IP地址的转换，这个过程就是DNS解析。它实际上充当了一个翻译的角色，实现了网址到IP地址的转换。

#### TCP连接

建立tcp连接，安全传输。

#### HTTP请求

发送HTTP请求的过程就是构建HTTP请求报文并通过TCP协议中发送到服务器指定端口(HTTP协议80/8080, HTTPS协议443)。HTTP请求报文是由三部分组成: **请求行**, **请求报头**和**请求正文**。

#### 服务器处理请求返回HTTP报文

自然而然这部分对应的就是后端工程师眼中的HTTP。后端从在固定的端口接收到TCP报文开始，这一部分对应于编程语言中的socket。它会对TCP连接进行处理，对HTTP协议进行解析，并按照报文格式进一步封装成HTTP Request对象，供上层使用。这一部分工作一般是由Web服务器去进行，我使用过的Web服务器有Tomcat, Jetty和Netty等等。

HTTP响应报文也是由三部分组成: **状态码**, **响应报头**和**响应报文**。

#### 浏览器渲染界面

浏览器是一个边解析边渲染的过程。首先浏览器解析HTML文件构建DOM树，然后解析CSS文件构建渲染树，等到渲染树构建完成后，浏览器开始布局渲染树并将其绘制到屏幕上。

JS的解析是由浏览器中的JS解析引擎完成的。

#### 结束

